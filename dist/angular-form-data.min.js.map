{"version":3,"sources":["angular-form-data.js"],"names":["angular","module","service","getFormData","data","formData","FormData","dataPropertyNames","Object","getOwnPropertyNames","dataPropertyIndex","dataPropertySize","length","dataIndex","current","FileList","fileIndex","append","console","log","directive","restrict","scope","ngModel","link","element","attributes","is","type","input","get","form","enctype","on","files","$apply"],"mappings":"aAAAA,QAEAC,MAFA,CAEA,YAFA,CAEA,EAFA,EAIAC,OAJA,CAIA,YAJA,CAIA,UAAA,CAEA,KAAAC,WAAA,CAAA,SAAAC,IAAA,CAAA,CAEA,GAEAC,UAAA,GAAAC,SAAA,EAFA,CAIAC,kBAAAC,OAAAC,mBAAA,CAAAL,IAAA,CAJA,CAMA,IAAA,GAAAM,mBAAA,CAAA,CAAAC,iBAAAJ,kBAAAK,MAAA,CAAAF,kBAAAC,gBAAA,CAAAD,mBAAA,CAAA,CAEA,GAEAG,WAAAN,kBAAAG,iBAAA,CAFA,CAIAI,QAAAV,KAAAS,SAAA,CAJA,CAMA,GAAAC,kBAAAC,SAAA,CAAA,CAEA,IAAA,GAAAC,WAAA,CAAA,CAAAA,UAAAF,QAAAF,MAAA,CAAAI,WAAA,EAEAX,SAAAY,MAAA,CAAAJ,UAAA,GAAA,CAAAG,SAAA,CAAA,GAAA,CAAAF,QAAAE,SAAA,CAAA,EAFA,CAIA,CANA,IAQAX,UAAAY,MAAA,CAAAJ,SAAA,CAAAC,OAAA,EAEA,CAEAI,QAAAC,GAAA,CAAA,UAAA,CAAAd,QAAA,EAEA,MAAAA,SAAA,CAEA,CAhCA,CAkCA,CAxCA,EA0CAe,SA1CA,CA0CA,aA1CA,CA0CA,UAAA,CAEA,MAAA,CACAC,SAAA,GADA,CAEAC,MAAA,CACAC,QAAA,GADA,CAFA,CAKAC,KAAA,cAAAF,KAAA,CAAAG,OAAA,CAAAC,UAAA,CAAA,CAEA,GAAAD,QAAAE,EAAA,CAAA,OAAA,GAAAD,WAAAE,IAAA,GAAA,MAAA,CAAA,CAEA,GAAAC,OAAAJ,QAAAK,GAAA,CAAA,CAAA,CAAA,CAEA,GAAAD,MAAAE,IAAA,EAAAF,MAAAE,IAAA,CAAAC,OAAA,GAAA,qBAAA,CAEAP,QAEAQ,EAFA,CAEA,QAFA,CAEA,UAAA,CAEAX,MAAAC,OAAA,CAAA,KAAAW,KAAA,CAEAZ,MAAAa,MAAA,GAEA,CARA,EAUA,CAEA,CAzBA,CAAA,CA4BA,CAxEA","file":"angular-form-data.min.js","sourcesContent":["angular\r\n\r\n\t.module('ngFormData', [])\r\n\r\n\t.service('ngFormData', function() {\r\n\r\n\t\tthis.getFormData = function(data) {\r\n\r\n\t\t\tvar\r\n\r\n\t\t\t\tformData = new FormData(),\r\n\r\n\t\t\t\tdataPropertyNames = Object.getOwnPropertyNames(data);\r\n\r\n\t\t\tfor (var dataPropertyIndex = 0, dataPropertySize = dataPropertyNames.length; dataPropertyIndex < dataPropertySize; dataPropertyIndex++) {\r\n\r\n\t\t\t\tvar\r\n\r\n\t\t\t\t\tdataIndex = dataPropertyNames[dataPropertyIndex],\r\n\r\n\t\t\t\t\tcurrent = data[dataIndex];\r\n\r\n\t\t\t\tif (current instanceof FileList) {\r\n\r\n\t\t\t\t\tfor (var fileIndex = 0; fileIndex < current.length; fileIndex++)\r\n\r\n\t\t\t\t\t\tformData.append(dataIndex + '[' + fileIndex + ']', current[fileIndex]);\r\n\r\n\t\t\t\t} else\r\n\r\n\t\t\t\t\tformData.append(dataIndex, current);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tconsole.log('formData', formData);\r\n\r\n\t\t\treturn formData;\r\n\r\n\t\t};\r\n\r\n\t})\r\n\r\n\t.directive('ngInputFile', function() {\r\n\r\n\t\treturn {\r\n\t\t\trestrict: 'A',\r\n\t\t\tscope: {\r\n\t\t\t\tngModel: '='\r\n\t\t\t},\r\n\t\t\tlink: function(scope, element, attributes) {\r\n\r\n\t\t\t\tif (element.is('input') && attributes.type === 'file') {\r\n\r\n\t\t\t\t\tvar input = element.get(0);\r\n\r\n\t\t\t\t\tif (input.form && input.form.enctype === 'multipart/form-data')\r\n\r\n\t\t\t\t\t\telement\r\n\r\n\t\t\t\t\t\t\t.on('change', function() {\r\n\r\n\t\t\t\t\t\t\t\tscope.ngModel = this.files;\r\n\r\n\t\t\t\t\t\t\t\tscope.$apply();\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t});\r\n"]}